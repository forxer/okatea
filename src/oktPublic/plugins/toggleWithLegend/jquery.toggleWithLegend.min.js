(function(e){jQuery.fn.toggleWithLegend=function(d,g){var a=jQuery.extend({img_on_src:"img/plus/url",img_on_alt:"show",img_off_src:"img/minus/url",img_off_alt:"hide",hide:!0,speed:0,legend_click:!1,fn:!1,cookie:!1,reverse_cookie:!1},g);if(!d)return this;var h=a.hide^a.reverse_cookie;a.cookie&&jQuery.cookie(a.cookie)&&(a.hide=a.reverse_cookie);var f=function(c,b){b=b||0;a.hide?(c.src=a.img_on_src,c.alt=a.img_on_alt,d.hide(b)):(c.src=a.img_off_src,c.alt=a.img_off_alt,d.show(b),a.fn&&(a.fn.apply(d), a.fn=!1));a.cookie&&h&&(a.hide^a.reverse_cookie?jQuery.cookie(a.cookie,"",{expires:-1}):jQuery.cookie(a.cookie,1,{expires:30}));a.hide=!a.hide};return this.each(function(){var c=document.createElement("img");c.src=a.img_off_src;c.alt=a.img_off_alt;e(c).css("vertical-align","baseline");var b=document.createElement("a");b.href="#";e(b).append(c);e(b).css({border:"none",outline:"none"});var d=a.legend_click?this:b;e(d).css("cursor","pointer");e(d).click(function(b){b.preventDefault();f(c,a.speed)}); f(c);e(this).prepend(" ").prepend(b)})}})(jQuery);