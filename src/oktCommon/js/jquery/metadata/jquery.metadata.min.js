(function(d){d.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(b,f){this.defaults.type=b;this.defaults.name=f},get:function(b,f){var c=d.extend({},this.defaults,f);if(!c.single.length)c.single="metadata";var a=d.data(b,c.single);if(a)return a;a="{}";if(c.type=="class"){var e=c.cre.exec(b.className);if(e)a=e[1]}else if(c.type=="elem"){if(!b.getElementsByTagName)return;e=b.getElementsByTagName(c.name);if(e.length)a=d.trim(e[0].innerHTML)}else if(b.getAttribute!=
undefined)if(e=b.getAttribute(c.name))a=e;if(a.indexOf("{")<0)a="{"+a+"}";a=eval("("+a+")");d.data(b,c.single,a);return a}}});d.fn.metadata=function(b){return d.metadata.get(this[0],b)}})(jQuery);